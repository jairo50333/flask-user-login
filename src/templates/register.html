<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<form class="form" id="register">
    <label>FirstName</label>
    <input type="text" placeholder="Enter FirstName" id="first_name" required>
    <label>LastName</label>
    <input type="text" placeholder="Enter LastName" id="last_name" required>
    <label>password</label>
    <input type="password" placeholder="Enter password" id="password" required>
    <label>Email</label>
    <input type="text" placeholder="Enter email" id="email" required>
    <label>Date of Birth</label>
    <input type="date" placeholder="Enter Date" id="date_of_birth" required>
    <button name="register" type="submit">Register</button>
</form>

<script>
    const myForm = document.getElementById('register');
    myForm.addEventListener('submit', function (e) {
        e.preventDefault();
        let user;
        user = {
            first_name: document.getElementById("first_name").value,
            last_name: document.getElementById("last_name").value,
            password: document.getElementById("password").value,
            email: document.getElementById("email").value,
            date_of_birth: document.getElementById("date_of_birth").value
        }
        fetch('/users', {
            method: 'POST', body: JSON.stringify(user), headers: {
                'Content-Type': 'application/json'
            }})
            .then(function (response) {
                return response
            })
            .catch(function (error) {
                console.error(error)
            })
        location.href = "/"
    })
</script>
</body>
</html>